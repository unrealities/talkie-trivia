appId: com.unrealities.talkietrivia
---
- launchApp:
    clearState: true

# 0. Init
- extendedWaitUntil:
    visible: "Search for a movie title..."
    timeout: 45000
# DISMISS TOOLTIP 1
- tapOn:
    text: "Got it"
    optional: true

# 1. Check History (Directly)
- tapOn: "Profile.*"

# 2. Scroll to History Section Header
- scrollUntilVisible:
    element:
      text: "Game History"
    direction: DOWN
    timeout: 5000

# 3. Tap on Inception using ID
- scrollUntilVisible:
    element:
      id: "history-item-Inception"
    direction: DOWN
    timeout: 5000
    centerElement: true
- tapOn:
    id: "history-item-Inception"

# 4. Verify History Detail Modal
- extendedWaitUntil:
    visible: "Close"
    timeout: 5000

# Scroll down inside the modal to reveal guesses
- scrollUntilVisible:
    element:
      text: "Your Guesses"
    direction: DOWN
    timeout: 5000

- assertVisible: "Your Guesses"
- assertVisible: "Inception (2010)"
- tapOn: "Close"
